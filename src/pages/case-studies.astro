---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import ContentPreviewMasonry from '../components/ContentPreviewMasonry.astro';
const portfolioCollection = await getCollection('portfolio');
const pages = portfolioCollection.map((item) => ({
  title: item.data.title,
  path: `/case-studies/${item.slug}`,
}));
---

<Layout title='Case Studies' subPages={pages}>
  <ContentPreviewMasonry
    basePath={new URL(Astro.request.url).pathname}
    collection={portfolioCollection}
    previewLocation='page-preview'
  />
</Layout>

---
import type { Picture } from 'astro:assets';
import Card from './Card.astro';

interface Props {
  title: string;
  bodyText: string;
  linkPath: string;
  backgroundImage: typeof Picture.prototype;
  columns: number;
  rows: number;
}

const { title, bodyText, linkPath, backgroundImage, columns, rows } = Astro.props;
---

<Card
  title={title}
  bodyText={bodyText}
  linkPath={linkPath}
  backgroundImage={backgroundImage}
  classes={[`cols-${columns}`, `rows-${rows}`]}
>
  <Fragment slot='icon'>
    <slot name='icon' />
  </Fragment>
  <!-- TODO: change name to bodyImage? -->
  <Fragment slot='body'>
    <slot />
  </Fragment>
</Card>

<style lang='scss'>
  @for $gridSpanCount from 1 through 12 {
    .rows-#{$gridSpanCount} {
      grid-row: span $gridSpanCount;
    }

    .cols-#{$gridSpanCount} {
      grid-column: span $gridSpanCount;
    }
  }
</style>
